{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lennnnon/Develop/movie_app-main/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lennnnon/Develop/movie_app-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/lennnnon/Develop/movie_app-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{GithubAuthProvider,GoogleAuthProvider,createUserWithEmailAndPassword,signInWithEmailAndPassword,signInWithPopup}from\"firebase/auth\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{authService}from\"../fbase\";import\"./Login.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=function Auth(props){var _ref;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];// 회원가입과 로그인을 하나의 form으로 관리\nvar _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),newAccount=_useState8[0],setNewAccount=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var onChange=function onChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;// 비구조화 할당\nif(name===\"email\"){setEmail(value);}else if(name===\"password\"){setPassword(value);}};var onSubmit=function onSubmit(_x){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();// submit 기본 동작(새로고침) 방지\n_context.prev=1;if(!newAccount){_context.next=9;break;}_context.next=5;return createUserWithEmailAndPassword(authService,email,password);case 5:data=_context.sent;console.log(\"createUserWithEmailAndPassword성공!\");_context.next=13;break;case 9:console.log(\"signInWithEmailAndPassword성공!\");_context.next=12;return signInWithEmailAndPassword(authService,email,password);case 12:data=_context.sent;case 13:console.log(data);_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);// 에러 메시지 출력\nconsole.log(createUserWithEmailAndPassword);case 20:case\"end\":return _context.stop();}},_callee,null,[[1,16]]);}))).apply(this,arguments);};function handleGoogleLogin(){var provider=new GoogleAuthProvider();signInWithPopup(authService,provider).then(function(data){setUserData(data.user);navigate(\"/\");console.log(data);}).catch(function(err){console.log(err);});}function handleGithubSignIn(){var provider=new GithubAuthProvider();signInWithPopup(authService,provider).then(function(data){setUserData(data.user);navigate(\"/\");console.log(data);}).catch(function(err){console.log(err);});}var toggleAccount=function toggleAccount(){return setNewAccount(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(\"div\",{className:\"about__container\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"email\",type:\"email\",placeholder:\"Email\",required:true,value:email,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",placeholder:\"Password\",required:true,value:password,onChange:onChange}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:newAccount?\"Create Account\":\"Sign In\"}),error]}),/*#__PURE__*/_jsx(\"span\",{onClick:toggleAccount,children:newAccount?\"Sign In\":\"Create Account\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleGoogleLogin,children:\"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGithubSignIn,children:\"\\uAE43\\uD5C8\\uBE0C \\uB85C\\uADF8\\uC778\"}),userData?userData.displayName:null]})]});};export default Auth;","map":{"version":3,"names":["GithubAuthProvider","GoogleAuthProvider","createUserWithEmailAndPassword","signInWithEmailAndPassword","signInWithPopup","React","useState","useNavigate","authService","jsx","_jsx","jsxs","_jsxs","Auth","props","_ref","navigate","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","userData","setUserData","_useState5","_useState6","password","setPassword","_useState7","_useState8","newAccount","setNewAccount","_useState9","_useState10","error","setError","onChange","event","_event$target","target","name","value","onSubmit","_x","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","preventDefault","sent","console","log","t0","message","stop","apply","arguments","handleGoogleLogin","provider","then","user","catch","err","handleGithubSignIn","toggleAccount","className","children","type","placeholder","required","onClick","displayName"],"sources":["/Users/lennnnon/Develop/movie_app-main/src/routes/Auth.js"],"sourcesContent":["import {\n  GithubAuthProvider,\n  GoogleAuthProvider,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  signInWithPopup,\n} from \"firebase/auth\";\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { authService } from \"../fbase\";\nimport \"./Login.css\";\n\nconst Auth = (props) => {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [userData, setUserData] = useState(null);\n  const [password, setPassword] = useState(\"\");\n  // 회원가입과 로그인을 하나의 form으로 관리\n  const [newAccount, setNewAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event; // 비구조화 할당\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault(); // submit 기본 동작(새로고침) 방지\n    try {\n      let data;\n      if (newAccount) {\n        data = await createUserWithEmailAndPassword(\n          authService,\n          email,\n          password\n        );\n        console.log(\"createUserWithEmailAndPassword성공!\");\n      } else {\n        console.log(\"signInWithEmailAndPassword성공!\");\n        data = await signInWithEmailAndPassword(authService, email, password);\n      }\n      console.log(data);\n    } catch (error) {\n      setError(error.message); // 에러 메시지 출력\n      console.log(createUserWithEmailAndPassword);\n    }\n  };\n  function handleGoogleLogin() {\n    const provider = new GoogleAuthProvider();\n    signInWithPopup(authService, provider)\n      .then((data) => {\n        setUserData(data.user);\n        navigate(\"/\");\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleGithubSignIn() {\n    const provider = new GithubAuthProvider();\n    signInWithPopup(authService, provider)\n      .then((data) => {\n        setUserData(data.user);\n        navigate(\"/\");\n        console.log(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const toggleAccount = () => setNewAccount((prev) => !prev);\n\n  return (\n    <div className=\"about__container\">\n      <form onSubmit={onSubmit}>\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          required\n          value={email}\n          onChange={onChange}\n        />\n        <input\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Password\"\n          required\n          value={password}\n          onChange={onChange}\n        />\n        <input\n          type=\"submit\"\n          value={newAccount ? \"Create Account\" : \"Sign In\"}\n        />\n        {error}\n      </form>\n      <span onClick={toggleAccount}>\n        {newAccount ? \"Sign In\" : \"Create Account\"}\n      </span>\n      <div>\n        <button onClick={handleGoogleLogin}>구글 로그인</button>\n        <button onClick={handleGithubSignIn}>깃허브 로그인</button>\n        {userData ? userData.displayName : null}\n      </div>\n    </div>\n  );\n};\n\nexport default Auth;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}